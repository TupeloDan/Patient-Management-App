<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Management</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/editor.css') }}">
</head>
<body>
    <header class="header-container">
        <h1 id="management-header">Patient Management</h1>
        <a href="/main-editor" class="back-button">Back to Main Editor</a>
    </header>

    <main class="editor-container">

        <div id="assign-form" class="hidden">
            <h2>Assign New Person</h2>
            <div class="form-group">
                <label for="assign-room-select">Room:</label>
                <select id="assign-room-select"></select>
            </div>
            <div class="form-group">
                <label for="assign-nhi">NHI:</label>
                <input type="text" id="assign-nhi">
            </div>
            <div class="form-group">
                <label for="assign-name">Name:</label>
                <input type="text" id="assign-name">
            </div>
            <div class="form-group">
                <label for="assign-legal-status">Legal Status:</label>
                <select id="assign-legal-status"></select>
            </div>
            <div class="form-group">
                <label><input type="checkbox" id="assign-special-patient"> Special Patient</label>
            </div>
            <div class="form-group">
                <label><input type="checkbox" id="assign-vnr"> VNR</label>
            </div>
            <div class="form-group">
                <label for="assign-special-notes">Special Notes:</label>
                <textarea id="assign-special-notes" rows="3"></textarea>
            </div>
            <div class="form-group">
                <button id="assign-submit-btn">Assign Person</button>
            </div>
        </div>

        <div id="manage-forms" class="hidden">
            
            <div id="edit-form">
                <h2>Edit Person Details</h2>
                <div class="form-group">
                    <label for="edit-nhi">NHI:</label>
                    <input type="text" id="edit-nhi">
                </div>
                <div class="form-group">
                    <label for="edit-name">Name:</label>
                    <input type="text" id="edit-name">
                </div>
                <div class="form-group">
                    <label for="edit-legal-status">Legal Status:</label>
                    <select id="edit-legal-status"></select>
                </div>
                <div class="form-group">
                    <label><input type="checkbox" id="edit-special-patient"> Special Patient</label>
                </div>
                <div class="form-group">
                    <label><input type="checkbox" id="edit-vnr"> VNR</label>
                </div>
                <div class="form-group">
                    <label for="edit-special-notes">Special Notes:</label>
                    <textarea id="edit-special-notes" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <button id="edit-submit-btn">Save Detail Changes</button>
                </div>
            </div>

            <hr>

            <div id="assignment-form">
                <h2>Staff Assignments</h2>
                <div class="form-group">
                    <label for="clinician-select">Responsible Clinician:</label>
                    <select id="clinician-select"></select>
                </div>
                <div class="assignment-columns">
                    <div class="staff-list-container">
                        <h3>Available Staff</h3>
                        <select id="available-staff-list" multiple></select>
                    </div>
                    <div class="assignment-buttons">
                        <button id="assign-cm">&gt;&gt; Assign Case Manager</button>
                        <button id="remove-cm">&lt;&lt; Remove Case Manager</button>
                        <button id="assign-assoc">&gt;&gt; Assign Associate</button>
                        <button id="remove-assoc">&lt;&lt; Remove Associate</button>
                    </div>
                    <div class="staff-list-container">
                        <h3>Case Managers</h3>
                        <select id="casemanager-list" multiple></select>
                        <h3>Associates</h3>
                        <select id="associate-list" multiple></select>
                    </div>
                </div>
                <div class="form-actions">
                    <button id="save-assignments-btn">Save Assignment Changes</button>
                </div>
            </div>

            <hr>

            <div id="move-form">
                <h2>Move Person</h2>
                <div class="form-group">
                    <label for="move-room-select">Select Destination Room:</label>
                    <select id="move-room-select"></select>
                </div>
                <div class="form-group">
                    <button id="move-submit-btn">Move Person</button>
                </div>
            </div>

            <hr>

            <div id="remove-zone" style="border: 2px solid #dc3545; border-radius: 8px; padding: 15px; margin-top: 20px;">
                <h2 style="color: #dc3545;">Danger Zone</h2>
                <p>Removing a person will clear all their data from the room. This action cannot be undone.</p>
                <button id="remove-person-btn" style="background-color: #dc3545; color: white;">Remove This Person</button>
            </div>

        </div>
    </main>

    <script src="{{ url_for('static', filename='js/management.js') }}"></script>
</body>
</html>